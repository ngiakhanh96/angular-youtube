<div class="video-comment-content-container">
  <div class="video-comment-avatar">
    <img
      [ngSrc]="comment().authorThumbnails[0].url"
      width="40"
      height="40"
      alt="Comment author avatar"
      priority
      referrerpolicy="no-referrer"
    />
  </div>
  <div class="video-comment-content">
    <div class="video-comment-header">
      <div class="video-comment-channel-name">
        <ay-channel-name
          [channelName]="comment().author"
          [isVerified]="comment().verified"
          [fontWeight]="'500'"
        ></ay-channel-name
      ></div>
      <div class="video-comment-time">{{ comment().publishedText }}</div>
    </div>
    <div
      class="video-comment-text"
      [innerHTML]="sanitizer.bypassSecurityTrustHtml(comment().contentHtml)"
      #commentText
    >
    </div>
    <div class="video-comment-actions">
      <div class="video-comment-like-action">
        <ay-text-icon-button
          [displayText]="comment().likeCount.toString()"
          [svgIcon]="'dislike'"
          [transform]="'rotate(180deg)'"
          backgroundColor="transparent"
          hoverBackgroundColor="transparent"
          color="rgb(96,96,96)"
          [fontWeight]="'400'"
          [fontSize]="'12px'"
        >
        </ay-text-icon-button>
      </div>
      <div class="video-comment-dislike-action">
        <ay-text-icon-button
          [svgIcon]="'dislike'"
          backgroundColor="transparent"
          hoverBackgroundColor="transparent"
          color="rgb(96,96,96)"
        >
        </ay-text-icon-button>
      </div>
    </div>
    @if (repliesCount() > 0) {
      <div class="video-comment-replies">
        <div class="video-comment-replies-count">
          <ay-text-icon-button
            [displayText]="repliesCountString()"
            [svgIcon]="'chevron-down'"
            color="rgb(6,95,212)"
            backgroundColor="transparent"
            hoverBackgroundColor="rgb(222,241,255)"
            [transform]="
              this.repliesCollapsed() ? 'rotate(0deg)' : 'rotate(180deg)'
            "
            (click)="onClickReplies()"
          >
          </ay-text-icon-button>
        </div>
        @if (!repliesCollapsed()) {
          <div class="video-comment-replies-list">
            @for (
              nestedComment of nestedCommentsResource.value();
              track nestedComment.comment.commentId
            ) {
              <ay-video-comment-content
                [commentViewModel]="nestedComment"
              ></ay-video-comment-content>
            }
          </div>
        }
      </div>
    }
  </div>
</div>
