<form class="search-form">
  <div #searchBoxContainer class="search-box-container" [formGroup]="form">
    <div class="search-box" slot="search-box">
      <input
        #input
        class="search-input"
        autocapitalize="none"
        autocomplete="off"
        autocorrect="off"
        name="search_query"
        tabindex="0"
        type="text"
        spellcheck="false"
        placeholder="Search"
        aria-label="Search"
        aria-haspopup="false"
        role="combobox"
        aria-autocomplete="list"
        dir="ltr"
        formControlName="searchQuery"
        (keydown.enter)="onSubmit($event)"
        cdkOverlayOrigin
        #inputOverlayOrigin="cdkOverlayOrigin"
      />
      <ng-template
        ayOverlay
        [connectedOverlayOrigin]="inputOverlayOrigin"
        [autoOpenOnClick]="false"
        [(connectedOverlayOpen)]="isOpenedSuggestionDropdown"
        [connectedOverlayBoundedWidthElement]="searchBoxContainer"
        [connectedOverlayOffsetX]="-searchBoxContainerPaddingLeftPx()"
        [connectedOverlayOffsetY]="4"
        [panelClass]="['mdc-list-list-item-one-line-container-height-40px']"
      >
        <ay-menu
          [items]="suggestions()"
          [(selectedText)]="selectedText"
          [sectionItemMarginRight]="'0px'"
          class="w-full"
          [sectionItemBorderRadius]="'0px'"
        ></ay-menu>
      </ng-template>
      @if (form.valid) {
        <div class="clear-icon">
          <ay-text-icon-button
            [svgIcon]="'clear'"
            color="var(--black-color)"
            backgroundColor="transparent"
            hoverBackgroundColor="transparent"
            borderRadius="0px"
            [disabledRipple]="true"
            [svgIconMarginLeft]="'0px'"
            [svgIconMarginRight]="'0px'"
            [iconPaddingLeft]="'0px'"
            [iconPaddingRight]="'0px'"
            (click)="onClear($event)"
          />
        </div>
      }
    </div>
  </div>
  <div
    class="search-button-container"
    (mouseenter)="onMouseEnter()"
    (mouseleave)="onMouseLeave()"
  >
    <ay-text-icon-button
      [svgIcon]="'search'"
      color="var(--black-color)"
      backgroundColor="transparent"
      hoverBackgroundColor="transparent"
      borderRadius="0px"
      [disabledRipple]="true"
      [svgIconMarginLeft]="'0px'"
      [svgIconMarginRight]="'0px'"
      [iconPaddingLeft]="'0px'"
      [iconPaddingRight]="'0px'"
      (click)="onSubmit($event)"
    />
  </div>
</form>
