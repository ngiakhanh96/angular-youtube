<form class="search-form">
  <div #searchBoxContainer class="search-box-container" [formGroup]="form">
    <div class="search-box" slot="search-box">
      <input
        #input
        class="search-input"
        autocapitalize="none"
        autocomplete="off"
        autocorrect="off"
        name="search_query"
        tabindex="0"
        type="text"
        spellcheck="false"
        placeholder="Search"
        aria-label="Search"
        aria-haspopup="false"
        role="combobox"
        aria-autocomplete="list"
        dir="ltr"
        formControlName="searchQuery"
        (keydown.enter)="onSubmit($event)"
        cdkOverlayOrigin
        #inputOverlayOrigin="cdkOverlayOrigin"
      />
      <ng-template
        ayOverlay
        [connectedOverlayOrigin]="inputOverlayOrigin"
        [autoOpenOnClick]="false"
        [(connectedOverlayOpen)]="isOpenedSuggestionDropdown"
        [connectedOverlayWidth]="searchBoxContainer.offsetWidth"
        [connectedOverlayOffsetX]="-searchBoxContainerPaddingLeftPx()"
        [connectedOverlayOffsetY]="4"
        [panelClass]="['mdc-list-list-item-one-line-container-height-40px']"
      >
        <ay-menu
          [items]="suggestions()"
          [(selectedText)]="selectedText"
          [sectionItemMarginRight]="'0px'"
          class="w-full"
          [sectionItemBorderRadius]="'0px'"
        ></ay-menu>
      </ng-template>
      @if (this.form.valid) {
        <ay-svg-button-renderer
          class="clear-icon"
          viewBox="0 -4 24 32"
          ariaLabel="Clear"
          rippleColor="rgb(0, 0, 0, 0.1)"
          path="m12.71 12 8.15 8.15-.71.71L12 12.71l-8.15 8.15-.71-.71L11.29 12 3.15 3.85l.71-.71L12 11.29l8.15-8.15.71.71L12.71 12z"
          (click)="onClear($event)"
        >
        </ay-svg-button-renderer>
      }
    </div>
  </div>
  <div
    class="search-button-container"
    (mouseenter)="onMouseEnter()"
    (mouseleave)="onMouseLeave()"
  >
    <ay-svg-button-renderer
      class="search-icon-legacy"
      viewBox="0 -4 24 32"
      ariaLabel="Search"
      path="M16.296 16.996a8 8 0 11.707-.708l3.909 3.91-.707.707-3.909-3.909zM18 11a7 7 0 00-14 0 7 7 0 1014 0z"
      (click)="onSubmit($event)"
      [disabled]="true"
    >
    </ay-svg-button-renderer>
  </div>
</form>
