<div class="browse_container">
  <div class="browse_video_categories">
    <ay-video-categories
      [videoCategories]="videosCategoriesViewModel()"
      [scrollingWidth]="400"
    ></ay-video-categories>
  </div>
  <div
    class="browse_video_player_grid"
    infiniteScroll
    [scrollWindow]="false"
    [infiniteScrollDistance]="2"
    [infiniteScrollThrottle]="50"
    (scrolled)="onScrollDown()"
  >
    @for (video of videos(); track video.videoId) {
      @defer (hydrate on viewport; prefetch on idle) {
        <div class="browse_video_player">
          <ay-video-player-card
            [videoId]="video.videoId"
            [videoUrl]="video.videoUrl"
            [title]="video.title"
            [channelName]="video.channelName"
            [viewCount]="video.viewCount"
            [publishedDate]="video.publishedDate"
            [duration]="video.duration"
            [channelLogoUrl]="video.channelLogoUrl"
            (select)="onSelect($event)"
          />
        </div>
      }
    }
  </div>
</div>
